[gd_scene load_steps=13 format=2]

[ext_resource path="res://Assets/Enemies/Elementals_water_priestess/Elementals_water_priestess_FREE_v1.1/water_FREE_SpriteSheet_288x128.png" type="Texture" id=1]
[ext_resource path="res://enemies/Ice_queen/Ice_queen.gd" type="Script" id=2]
[ext_resource path="res://general purpose/hurtbox.tscn" type="PackedScene" id=3]

[sub_resource type="CapsuleShape2D" id=7]
height = 16.0

[sub_resource type="Animation" id=9]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("attack_1/hitbox/collision_1:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("attack_1/hitbox/collision_2:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("attack_1/hitbox/collision_3:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("attack_1/hitbox/collision_4:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("attack_1/hitbox/collision_5:disabled")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("attack_1/hitbox/collision_6:disabled")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("attack_1/hitbox/collision_7:disabled")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("attack_1/hitbox/collision_8:disabled")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("attack_1/hitbox/collision_9:disabled")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("attack_1/hitbox/collision_10:disabled")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("attack_1/hitbox/collision_11:disabled")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("attack_2/hitbox/collision_1:disabled")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/12/type = "value"
tracks/12/path = NodePath("attack_2/hitbox/collision_2:disabled")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}
tracks/13/type = "value"
tracks/13/path = NodePath("attack_2/hitbox/collision_3:disabled")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}

[sub_resource type="Animation" id=1]
resource_name = "attack_1"
length = 1.8
step = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05, 1.2, 1.35, 1.5, 1.65 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("attack_1/hitbox/collision_1:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.15, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ false, true, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("attack_1/hitbox/collision_2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ true, false, true, true ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("attack_1/hitbox/collision_3:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("attack_1/hitbox/collision_4:disabled")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.3, 0.45, 0.6, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("attack_1/hitbox/collision_5:disabled")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.45, 0.6, 0.75, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("attack_1/hitbox/collision_6:disabled")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0, 0.6, 0.75, 0.9, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("attack_1/hitbox/collision_7:disabled")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0, 0.75, 0.9, 1.05, 1.2, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, false, true, true ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("attack_1/hitbox/collision_8:disabled")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0, 1.05, 1.2, 1.35, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("attack_1/hitbox/collision_9:disabled")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( 0, 1.2, 1.35, 1.5, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("attack_1/hitbox/collision_10:disabled")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PoolRealArray( 0, 1.35, 1.5, 1.65, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("attack_1/hitbox/collision_11:disabled")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PoolRealArray( 0, 1.5, 1.65, 1.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true ]
}

[sub_resource type="Animation" id=2]
resource_name = "attack_2"
length = 2.25
step = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05, 1.2, 1.35, 1.5, 1.65, 1.8, 1.95, 2.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.90125, 1, 1 ),
"update": 1,
"values": [ 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("attack_2/hitbox/collision_1:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.45, 0.6, 0.75, 2.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, true, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("attack_2/hitbox/collision_2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.75, 0.9, 1.35, 1.5, 2.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, false, true, true ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("attack_2/hitbox/collision_3:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 1.5, 1.65, 1.95, 2.1, 2.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, true, false, false, true, true ]
}

[sub_resource type="Animation" id=3]
resource_name = "death"
length = 2.25
step = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05, 1.2, 1.35, 1.5, 1.65, 1.8, 1.95, 2.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175 ]
}

[sub_resource type="Animation" id=4]
resource_name = "hit"
length = 1.05
step = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 128, 129, 130, 131, 132, 133, 134 ]
}

[sub_resource type="Animation" id=5]
resource_name = "idle"
length = 1.2
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 5, 6, 7 ]
}

[sub_resource type="Animation" id=6]
resource_name = "move"
length = 1.2
loop = true
step = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 32, 33, 34, 35, 36, 37, 38, 39 ]
}

[sub_resource type="CapsuleShape2D" id=8]
radius = 11.0
height = 16.0

[node name="Ice_queen" type="KinematicBody2D"]
script = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 0, -6 )
shape = SubResource( 7 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 0, -51 )
texture = ExtResource( 1 )
hframes = 32
vframes = 6
frame = 110

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "idle"
anims/RESET = SubResource( 9 )
anims/attack_1 = SubResource( 1 )
anims/attack_2 = SubResource( 2 )
anims/death = SubResource( 3 )
anims/hit = SubResource( 4 )
anims/idle = SubResource( 5 )
anims/move = SubResource( 6 )

[node name="attack_1" type="Node2D" parent="."]

[node name="hitbox" parent="attack_1" instance=ExtResource( 3 )]

[node name="collision_1" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( -16, -14, 13, -14, 13, -11, -16, -11 )

[node name="collision_2" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 3, -14, 18, 13, 25, 13, 30, -4, 28, -15, 30, -29, 34, -41, 26, -45, 18, -38, 16, -28 )

[node name="collision_3" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 23, -16, 9, -43, -12, -50, -30, -43, -37, -34, -31, -24, -11, -18, -5, -26, 11, -17 )

[node name="collision_4" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 5, -34, -15, -31, -23, -15, -19, 0, -5, -10, -10, 2, -23, 13, -33, 12, -32, -6, -34, -25, -22, -38, -10, -42, 1, -39 )

[node name="collision_5" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( -17, -30, -22, -33, -29, -21, -14, 2, 8, 14, 24, 13, 24, 10, 10, -6 )

[node name="collision_6" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 4, 13, 30, 9, 36, -9, 33, -24, 31, -31, 9, -20 )

[node name="collision_7" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 3, 13, 49, 14, 64, -2, 63, -17, 53, -38, 45, -37, 10, -21 )

[node name="collision_8" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 4, 13, 62, 15, 70, 5, 69, -42, 58, -39, 8, -17 )

[node name="collision_9" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 5, 13, 72, 14, 84, 1, 79, -41, 70, -38, 54, -18, 19, -29, -1, -11 )

[node name="collision_10" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 28, 14, 72, 14, 96, 13, 97, -9, 91, -43, 70, -38, 66, 3, 58, 0, 35, 6 )

[node name="collision_11" type="CollisionPolygon2D" parent="attack_1/hitbox"]
visible = false
polygon = PoolVector2Array( 41, 14, 111, 13, 108, -6, 90, -3, 82, 9, 52, 10 )

[node name="attack_2" type="Node2D" parent="."]

[node name="hitbox" parent="attack_2" instance=ExtResource( 3 )]

[node name="collision_1" type="CollisionPolygon2D" parent="attack_2/hitbox"]
visible = false
polygon = PoolVector2Array( 16, -2, 28, 7, 49, 3, 85, 8, 102, -1, 102, -26, 89, -46, 69, -40, 42, -39, 21, -40, 12, -29 )

[node name="collision_2" type="CollisionPolygon2D" parent="attack_2/hitbox"]
visible = false
polygon = PoolVector2Array( 11, -4, 12, 12, 103, 13, 100, -2 )

[node name="collision_3" type="CollisionPolygon2D" parent="attack_2/hitbox"]
polygon = PoolVector2Array( 12, 12, 104, 14, 100, 1, 16, 6 )

[node name="hurtbox" parent="." instance=ExtResource( 3 )]

[node name="CollisionShape2D" parent="hurtbox" index="0"]
position = Vector2( 0, -6 )
shape = SubResource( 8 )

[node name="attack_timer" type="Timer" parent="."]

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_AnimationPlayer_animation_finished"]
[connection signal="hit" from="hurtbox" to="." method="_on_hurtbox_hit"]
[connection signal="timeout" from="attack_timer" to="." method="_on_attack_timer_timeout"]

[editable path="attack_1/hitbox"]
[editable path="attack_2/hitbox"]
[editable path="hurtbox"]
